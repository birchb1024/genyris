#
# Examples run as tests
#
define example-files 
   list
    ~ "examples/spawn-tests.lin"
    ~ "examples/account.lin"
    ~ "examples/class-methods.lin"
    ~ "examples/class-variables.lin"
    ~ "examples/context-sensitive-syntax.lin"
    ~ "examples/cps.lin"
    ~ "examples/executable-comments.lin"
    ~ "examples/file-module-prefixes.lin"
    ~ "examples/fun-with-brackets.lin"
    ~ "examples/lambda.lin"
    ~ "examples/length.lin"
    ~ "examples/meta-classes.lin"
    ~ "examples/module.lin"
    ~ "examples/new.lin"
    ~ "examples/module.lin"
    ~ "examples/parametric-polymorphism.lin"
    ~ "examples/people.lin"
    ~ "examples/private_data.lin"
    ~ "examples/symbols-as-objects.lin"
    ~ "examples/triples.lin"
    ~ "examples/unixscript.lin"
    ~ "examples/url.lin"
    ~ "examples/validate.lin"
    ~ "examples/queens.lin"
define pass nil
define results ()
while example-files
    catch errors
        include (left example-files)
    if errors
        results = (cons (cons (left example-files) errors) results)
        pass
    example-files = (right example-files)
if results
   raise results
   nil

queens 5