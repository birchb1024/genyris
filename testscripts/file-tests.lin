define fi
   File(_new "C:\\foo.txt")
define out 	
   fi (_open 'write)
out (_format "Hello\n")
out (_format "World\n")
out
  _format "  A: ~a~%  S: ~s~%  C: ~c ~~\n" :
      "GONZO\n" :
       "ALONZO\n" :
        33
out (_close)

define fi
   File(_new "C:\\foo.txt")
define in 	
   fi (_open 'read)
print (in(_read))

in(_close)

def dump()
  var fi (File(_new "C:\\foo.txt"))
  var in (fi (_open 'read))
  var ch nil
  var count 0
  while (in(_hasData))
     set! count (+ count 1)
     write (in(_read)) '-
  in(_close)
  print "\n" count
   

def parse-file()
  var fi (File(_new "C:\\foo.lsp"))
  var in (fi (_open 'read))
  var parser (ParenParser(_new in))
  var exp nil
  while
     not
        equal? EOF
           set! exp (parser(_read))
     write exp
     display "\n"
  parser(_close)
   

def parse-sfs-file()
  var fi (File(_new "C:\\foo.sfs"))
  var in (fi (_open 'read))
  var sfs (StringFormatStream(_new in))
  var parser (ParenParser(_new sfs))
  var exp nil
  while
     not
        equal? EOF
           set! exp (parser(_read))
     write exp
     display "\n"
  parser(_close)


def eval-sfs-file()
  var fi (File(_new "C:\\foo.sfs"))
  var in (fi (_open 'read))
  var sfs (StringFormatStream(_new in))
  var parser (ParenParser(_new sfs))
  var exp nil
  while
     not
        equal? EOF
           set! exp (eval (parser(_read)))
     display exp
  parser(_close)
   